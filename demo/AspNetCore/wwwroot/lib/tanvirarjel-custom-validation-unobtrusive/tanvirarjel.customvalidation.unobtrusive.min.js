(function(n){n.validator.setDefaults({onfocusout:function(n,t){(t.which!==9||this.elementValue(n)!=="")&&this.element(n)}});var r=function(n){var t=n.split("-"),u=t[0],f=t[1],e=t[2],i,r;return i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(f)+1,r=e+"-"+i+"-"+u,r},i=function(n){return n.length===11&&(n=r(n)),new Date(n).toString()!=="Invalid Date"&&!isNaN(new Date(n))},u=function(n){return/\d{4}-\d{2}-\d{2}/i.test(n)},t=function(n){if(i(n))return u(n)?n.indexOf("T")===-1?new Date(n+"T00:00:00"):new Date(n):(n.length===11&&(n=r(n)),new Date(n));throw{name:"InvalidDateTimeFormat",message:"Input date/datetime is not in valid format. Please enter the date in valid datetime format. Prefer: '01-Jan-1999' format."};};n.validator.addMethod("valid-date-format",function(n){return n?(n.length===11&&(date=r(n)),i(n)):!0});n.validator.unobtrusive.adapters.add("valid-date-format",[],function(n){n.rules["valid-date-format"]={};n.messages["valid-date-format"]=n.message});n.validator.addMethod("mindate",function(n,i,r){if(n){const i=new Date(r.date),u=t(n);return u>=i}return!0});n.validator.unobtrusive.adapters.add("mindate",["date"],function(n){n.rules.mindate=n.params;n.messages.mindate=n.message});n.validator.addMethod("maxdate",function(n,i,r){if(n){const i=new Date(r.date),u=t(n);return u<=i}return!0});n.validator.unobtrusive.adapters.add("maxdate",["date"],function(n){n.rules.maxdate=n.params;n.messages.maxdate=n.message});n.validator.addMethod("currenttime",function(n){if(n){const i=new Date,r=t(n);return i>r}return!0});n.validator.unobtrusive.adapters.add("currenttime",[],function(n){n.rules.currenttime={};n.messages.currenttime=n.message});n.validator.addMethod("maxage",function(n,i,r){if(n){let i=new Date;i.setFullYear(i.getFullYear()-r.years);i.setMonth(i.getMonth()-r.months);i.setDate(i.getDate()-r.days);const u=t(n);return u>=i}return!0});n.validator.unobtrusive.adapters.add("maxage",["years","months","days"],function(n){n.rules.maxage=n.params;n.messages.maxage=n.message});n.validator.addMethod("minage",function(n,i,r){if(n){let i=new Date;i.setFullYear(i.getFullYear()-r.years);i.setMonth(i.getMonth()-r.months);i.setDate(i.getDate()-r.days);const u=t(n);return i>=u}return!0});n.validator.unobtrusive.adapters.add("minage",["years","months","days"],function(n){n.rules.minage=n.params;n.messages.minage=n.message});n.validator.addMethod("filetype",function(n,t,i){var r=n.split(".").pop(),u=i.validtypes;return u.toLowerCase().indexOf(r.toLowerCase())!==-1});n.validator.unobtrusive.adapters.add("filetype",["validtypes"],function(n){n.rules.filetype=n.params;n.messages.filetype=n.message});n.validator.addMethod("file-minsize",function(n,t,i){if(n&&t.files[0]){var r=i.value,u=t.files[0].size/1024;return u>=r}return!0});n.validator.unobtrusive.adapters.add("file-minsize",["value"],function(n){n.rules["file-minsize"]=n.params;n.messages["file-minsize"]=n.message});n.validator.addMethod("file-maxsize",function(n,t,i){if(n&&t.files[0]){var r=i.value,u=t.files[0].size/1024;return u<=r}return!0});n.validator.unobtrusive.adapters.add("file-maxsize",["value"],function(n){n.rules["file-maxsize"]=n.params;n.messages["file-maxsize"]=n.message});n.validator.addMethod("input-type-compare",function(t,i,r){var u=n(i).prop("type"),f=r.property,e=n(i).closest("form").find('[name="'+f+'"]'),o=e.prop("type");return u===o});n.validator.unobtrusive.adapters.add("input-type-compare",["property"],function(n){n.rules["input-type-compare"]=n.params;n.messages["input-type-compare"]=n.message});n.validator.addMethod("comparison-equal",function(r,u,f){const s=r,e=n(u).prop("type"),l=f.property,c=n(u).closest("form").find('[name="'+l+'"]'),h=c.prop("type"),o=c.val();if(s&&o){if(e==="number"&&e===h)return Number(r)===Number(c.val());if(e==="text"&&e===h){if(i(s)&&i(o)){const n=t(s),i=t(o);return n.getTime()===i.getTime()}return s.length===o.length}if(e.indexOf("date")!==-1&&h.indexOf("date")!==-1){const n=t(r),i=t(o);return n.getTime()===i.getTime()}if(e==="time"&&e==h)return s===o}return!0});n.validator.unobtrusive.adapters.add("comparison-equal",["property"],function(n){n.rules["comparison-equal"]=n.params;n.messages["comparison-equal"]=n.message});n.validator.addMethod("comparison-not-equal",function(r,u,f){const s=r,e=n(u).prop("type"),l=f.property,c=n(u).closest("form").find('[name="'+l+'"]'),h=c.prop("type"),o=c.val();if(s&&o){if(e==="number"&&e===h)return Number(r)!==Number(c.val());if(e==="text"&&e===h){if(i(s)&&i(o)){const n=t(s),i=t(o);return n.getTime()!==i.getTime()}return s.length!==o.length}if(e.indexOf("date")!==-1&&h.indexOf("date")!==-1){const n=t(r),i=t(o);return n.getTime()!==i.getTime()}if(e==="time"&&e==h)return s!==o}return!0});n.validator.unobtrusive.adapters.add("comparison-not-equal",["property"],function(n){n.rules["comparison-not-equal"]=n.params;n.messages["comparison-not-equal"]=n.message});n.validator.addMethod("comparison-greater-than",function(r,u,f){const s=r;let e=n(u).prop("type");const l=f.property,c=n(u).closest("form").find('[name="'+l+'"]'),h=c.prop("type"),o=c.val();if(s&&o){if(e==="number"&&e===h)return Number(s)>Number(o);if(e==="text"&&e===h){if(i(s)&&i(o)){const n=t(s),i=t(o);return n>i}return s.length>o.length}if(e.indexOf("date")!==-1&&h.indexOf("date")!==-1){const n=t(r),i=t(o);return n>i}if(e==="time"&&e==h)return s>o}return!0});n.validator.unobtrusive.adapters.add("comparison-greater-than",["property"],function(n){n.rules["comparison-greater-than"]=n.params;n.messages["comparison-greater-than"]=n.message});n.validator.addMethod("comparison-greater-than-or-equal",function(r,u,f){const s=r;let e=n(u).prop("type");const l=f.property,c=n(u).closest("form").find('[name="'+l+'"]'),h=c.prop("type"),o=c.val();if(s&&o){if(e==="number"&&e===h)return Number(s)>=Number(o);if(e==="text"&&e===h){if(i(s)&&i(o)){const n=t(s),i=t(o);return n>=i}return s.length>=o.length}if(e.indexOf("date")!==-1&&h.indexOf("date")!==-1){const n=t(r),i=t(o);return n>=i}if(e==="time"&&e==h)return s>=o}return!0});n.validator.unobtrusive.adapters.add("comparison-greater-than-or-equal",["property"],function(n){n.rules["comparison-greater-than-or-equal"]=n.params;n.messages["comparison-greater-than-or-equal"]=n.message});n.validator.addMethod("comparison-smaller-than",function(r,u,f){const s=r,e=n(u).prop("type"),l=f.property,c=n(u).closest("form").find('[name="'+l+'"]'),h=c.prop("type"),o=c.val();if(s&&o){if(e==="number"&&e===h)return Number(s)<Number(o);if(e==="text"&&e===h){if(i(s)&&i(o)){const n=t(s),i=t(o);return n<i}return s.length<o.length}if(e.indexOf("date")!==-1&&h.indexOf("date")!==-1){const n=t(r),i=t(o);return n<i}if(e==="time"&&e==h)return s<o}return!0});n.validator.unobtrusive.adapters.add("comparison-smaller-than",["property"],function(n){n.rules["comparison-smaller-than"]=n.params;n.messages["comparison-smaller-than"]=n.message});n.validator.addMethod("comparison-smaller-than-or-equal",function(r,u,f){const s=r,e=n(u).prop("type"),l=f.property,c=n(u).closest("form").find('[name="'+l+'"]'),h=c.prop("type"),o=c.val();if(s&&o){if(e==="number"&&e===h)return Number(s)<=Number(o);if(e==="text"&&e===h){if(i(s)&&i(o)){const n=t(s),i=t(o);return n<=i}return s.length<=o.length}if(e.indexOf("date")!==-1&&h.indexOf("date")!==-1){const n=t(r),i=t(o);return n<=i}if(e==="time"&&e==h)return s<=o}return!0});n.validator.unobtrusive.adapters.add("comparison-smaller-than-or-equal",["property"],function(n){n.rules["comparison-smaller-than-or-equal"]=n.params;n.messages["comparison-smaller-than-or-equal"]=n.message});n.validator.addMethod("texteditor-required",function(t){const i=jQuery(n("<p>").html(t)).text().replace(/\s\s+/g," ");return i!==" "&&i.length>0});n.validator.unobtrusive.adapters.add("texteditor-required",[],function(n){n.rules["texteditor-required"]=n.params;n.messages["texteditor-required"]=n.message});n.validator.addMethod("texteditor-minlength",function(t,i,r){const u=jQuery(n("<p>").html(t)).text().replace(/\s\s+/g," "),f=r.value;return u!==" "&&u.length>=f});n.validator.unobtrusive.adapters.add("texteditor-minlength",["value"],function(n){n.rules["texteditor-minlength"]=n.params;n.messages["texteditor-minlength"]=n.message});n.validator.addMethod("texteditor-maxlength",function(t,i,r){const u=jQuery(n("<p>").html(t)).text().replace(/\s\s+/g," "),f=r.value;return u!==" "&&u.length<=f});n.validator.unobtrusive.adapters.add("texteditor-maxlength",["value"],function(n){n.rules["texteditor-maxlength"]=n.params;n.messages["texteditor-maxlength"]=n.message});n.validator.addMethod("fixed-length",function(t,i,r){const u=jQuery(n("<p>").html(t)).text().replace(/\s\s+/g," "),f=r.value;return u?u.length==f:!0});n.validator.unobtrusive.adapters.add("fixed-length",["value"],function(n){n.rules["fixed-length"]=n.params;n.messages["fixed-length"]=n.message});n.validator.addMethod("requiredif",function(i,r,u){const h=u["other-property"],o=u["comparison-type"],s=u["other-property-type"];let e=u["other-property-value"];const c=n(r).closest("form").find('[name="'+h+'"]'),l=c.attr("type");let f=null;if(l=="checkbox"||l=="radio"){var a=n("[name$='"+h+"']:checked");f=a.val()}else f=c.val();if(s=="number")e=Number(e),f=Number(f);else if(s=="datetime")e&&(e=t(e),(o=="Equal"||o=="NotEqual")&&(e=e.getTime())),f&&(f=t(f),(o=="Equal"||o=="NotEqual")&&(f=f.getTime()));else if(s=="string")o=="Equal"||o=="NotEqual"?(e=e,f=f):(f=f.length,e=e.length);else if(s=="timespan")e=e,f=f;else if(s=="boolean"){if(o!="Equal"&&o!="NotEqual")throw{name:"InvalidTypeException",message:"The comparision type with boolean is not supported in requiredif validation."};e=Number(Boolean(e));f=Number(Boolean(f))}else throw{name:"InvalidTypeException",message:"The type in not supported in requiredif validation."};if(o=="Equal"){if(f==e)return i?!0:!1}else if(o=="NotEqual"){if(f!=e)return i?!0:!1}else if(o=="GreaterThan"){if(f>e)return i?!0:!1}else if(o=="GreaterThanOrEqual"){if(f>=e)return i?!0:!1}else if(o=="SmallerThan"){if(f<e)return i?!0:!1}else if(o=="SmallerThanOrEqual"&&f<=e)return i?!0:!1;return!0});n.validator.unobtrusive.adapters.add("requiredif",["other-property","comparison-type","other-property-type","other-property-value"],function(n){n.rules.requiredif=n.params;n.messages.requiredif=n.message})})(jQuery);